# WEB
# Лабораторная работа № 1
## Изучение протокола HTTP
### Задание
Данная работа является вводной в курсе и призвана ознакомить студента с базовым протоколом web – протоколом HTTP.

> Решение оформляется в виде репозитория. По “опытной” части необходимо сделать отчет в markdown разметке (report.md файл в репозитории).

<ol>
<li> Базовая часть работы
  <ol>
  <li> Цель данной работы – ознакомится с применением протокола HTTP на практике, в реальных системах. Каждый из рассмотренных типов запросов предлагается отправить на несколько известных интернет-сервисов. Впрочем, сервисы указаны лишь как примеры и при желании вы можете выбрать другие (социальные сети, почта, облака, новостные сайты и т.д.).  </li>
  <li> С помощью специального ПО (Postman, либо многочисленные аналоги, например, Restlet Clent - расширение для Chrome) вручную отправить следующие запросы и ответить на предлагаемые вопросы. <ol>
      <li> Запрос OPTIONS. Отправьте запрос на http://mail.ru, http://ya.ru, www.rambler.ru, https://www.google.ru, https://github.com/,   www.apple.com/.
      Для чего используется запрос OPTIONS? Какие коды ответов приходят при этом запросе? Какие сайты правильно обработали запрос и вернули ожидаемые данные? </li>
     <li>   Запрос HEAD.  vk.com, www.apple.com, www.msn.com.
      Для чего нужен запрос HEAD? Какой сайт прислал ожидаемый ответ?
      1.2.3.   Запросы GET и POST. Отправьте по запросу на yandex.ru, google.com и apple.com. Что они вернули? Что содержится в теле ответа? </li></li></ol>
  <li>          Работа с api сайта. Многие крупные сервисы предоставляют открытое api. Как правило, оно реализовано на подходе REST, но это необязательно. Такое api используется сторонними сервисами и приложениями, которые хотят воспользоваться услугами предоставляющего такое api сервиса. Рассмотрим такое api на примере сайта vk.com (при желании можно выбрать другой подходящий сервис). </li>
 <ol>
  <li>   Зайдите на https://vk.com/dev/api_requests и посмотрите структуру запросов к данному api. </li>
  <li>   Используя документацию (https://vk.com/dev/methods) выполните следующие задания (обратите внимание, запросы нужно отправлять не из предложенной на сайте формы, а как в предыдущем задании):
  <ol>
      <li>       Получите список всех факультетов МГТУ им. Н.Э.Баумана. </li>
      <li>        Получите свою аватарку. </li>
      <li> Ответьте на вопросы: какой код ответа присылается от api? Что содержит тело ответа? В каком формате и какой кодировке содержаться данные? Какой веб-сервер отвечает на запросы? Какая версия протокола HTTP используется? </li></ol></li>
  <li>  POST запросы проще отправлять с формы, встроенной в документацию api. Чтобы посмотреть, как выглядит запрос, можно воспользоваться панелью разработчика браузера (F12 в Chrome -> вкладка Hetwork). <ol>
    <li> Отправьте запись на стену любому пользователю/группе и убедитесь, что она пришла. </li>
    <li>       Ответьте на вопрос: каким образом передаются данные от пользователя к серверу в POST-запросах? </li></ol></li>
  </ol></ol></li>

<li> Реализуйте небольшое серверное приложение, с использованием любого фреймворка. Лучшего всего для этой цели подойдет NodeJS: решение получится очень компактным и простым.
  Сервер должен содержать предоставлять API с поддержкой (GET, POST, DELETE, PUT, OPTION). Данные отправлять в формате json. Конкретное содержание запросов - на ваше усмотрение. Подключите фантазию. (Можно сделать простейший CRUD-сервис с хранением данных в RAM). </li>

<li> Доп. задание. Статика и маршрутизация.
<ol>
<li>   Добавьте папку static (классическое название для статически раздаваемой папки). </li>
<li>   В папке static создайте папки html и img. </li>
<li>   В папке static/html создайте файл index.html со следующим содержанием (или любым другим):

```html
<head></head>
<body>
<h1>Hello, world!</h1>
<img src=”/img/image.jpg”>
</body>
```
 </li>
<li>   Настройте сервер так, чтобы при запросе из браузера отображалась эта страница. </li>
      <li>          Настройте routing (маршрутизацию) на вашем сервере. Например, чтобы путь /hack тоже отдавал файл index.html, а путь /, по умолчанию отдающий index, выдавал дополнительную страницу hack.html. </li>
<li>         Переименуйте hack.html (содержащую теги html) в hack.txt. Что изменилось? Почему? Как сделать так, чтобы страница отображалась корректно?  </li>
</li>
</li>
</ol>

# Лабораторная работа №2
## Знакомство с nginx

### Задание

В данной работе вам будет необходимо оценить как изменятся качественные показатели работы веб-сервера после добавления фронтенд-сервера, для этого предлагается воспользоваться утилитой для тестирования сервера: ApacheBenchmark
    Замечание. При использовании AB не стоит допускать деградации производительности сервера. Также предлагается изначально зафиксировать общее количество запросов и количество конкурентных запросов для утилиты AB.
Результаты оформить в виде отчёта .md.
Код и конфигурацию nginx разместить в репозитории в папке lab2.

<ol>
<li>Замерьте скорость отдачи контента на сервере из лабораторной работы №1 (отдача страниц, картинки, запросов к api). Добавьте логирование приходящих запросов.<ul>
<li>django logger</li>
<li>express logger (middleware)</li>
<li>C# NLog</li>
</ul></li>

<li> Сконфигурируйте nginx сервер таким образом, чтобы запросы проходили через nginx и перенаправлялись на сервер из лабораторной работы №1.
<ul><li><a href="https://nginx.org/ru/docs/beginners_guide.html">Гайд для начинающих</a></li></ul>
</li>

<li>Используйте nginx отдачи статического контента. Как изменилось время ответа сервера?
</li>

<li>Настройте кеширование и gzip сжатие файлов.  Как изменилось время ответа сервера?<ul>
<li><a href="https://ruhighload.com/Как+включить+gzip+в+nginx%3F">Настройка gzip сжатия</a></li>
<li><a href="https://ruhighload.com/post/Кэширование+с+Nginx">Гайд по настройке кеширования</a></li></ul>
</li>

<li>Запустите еще 2 инстанса вашего сервера из лабораторной работы №1, настройте перенаправление таким образом, чтобы на серверы приходили запросы в соотношении 3:1. <ul>
<li><a href="https://ruhighload.com/Балансировка+бэкендов+с+помощью+nginx">Гайд по настройке балансировки.</a></li></ul>
</li>

<li>Напишите еще два мини-сервера. Каждый из них должен обрабатывать два GET-запроса.<ul>
<li>по / отдавать страницу с надписью “Добро пожаловать на сервис #1/#2” и ссылкой, ведущей на /temp</li>
<li>по /temp  возвращать произвольный контент</li></ul>

Настройте nginx так, чтобы в дополнение к п.1-5 он перенаправлял запросы по     url /service1 и /service2 на соответствующие сервера.
</li>

<li>Настройте отдачу страницы о состоянии сервера<ul>
<li><a href="https://nginx.org/ru/docs/http/ngx_http_stub_status_module.html">nginx status</a></li></ul>
</li>

### Дополнительные задания:

<li>Настройте https порт на сервере nginx. Используйте самоподписанный сертификат. (<a href='https://letsencrypt.org/docs/certificates-for-localhost/'>Создание сертификата)</a></li>

<li>Добавьте ServerPush картинки для страницы index.html. Как изменилось время ответа сервера и загрузки страницы?</li>

<li>Для повышения уровня безопасности необходимо скрывать внутреннюю реализацию вашего сервера. Скройте все заголовки Server(в том числе и nginx) из header ответа, а также дополнительные заголовки, которые дописывает ваш сервер, если есть.</li>
</ol>

# Лабораторная работа №3
## Разработка архитектуры web приложения

### Задание:

Вам необходимо разбиться на пары по 2 человека (большее количество людей возможно только при доказательстве сложности проекта и согласовании с преподавателями). Разработка данного проекта планируется на протяжении всего семестра. В данной лабораторной работе необходимо спланировать архитектуру разрабатываемого приложения.

Замечание: приложение должно включать frontend и backend(возможно с базой), запрещается в качестве frontend использовать vk или tg ботов.

Для сдачи лабораторной работы необходимо предоставить отчет в виде .md файла в репозитории. Отчет может включать изображения, по-возможности используйте векторные (либо растр с хорошим сжатием без потерь: png).

* Название проекта
* Краткое описание проблемной области и актуальности
  *  Какая проблема
  *  Как решаем
* Описание ролей пользователя
  *  Use-Case диаграмма (основные кейсы)
  *  Назначение ролей пользователя
  * Сущности предметной области
* ER-диаграмма сущностей
* Прототип интерфейса (sketch) со всеми страницами. (Можно использовать MockFlow  или любой другой специализированный инструмент, paint/photoshop, салфетку и карандаш). Краткое описание основных функциональных действий.
* Архитектура приложения
  *  Выбор архитектуры (MPA-SPA)
  *  Диаграмма взаимодействия Backend-Frontend
  *  Описание протокола взаимодействия Backend-Frontend / Rest API - при наличии
  *  Структура модулей/классов для Backend и Frontend
* Техническое решение
  *  Backend-стек
  *  Frontend-стек

Требования к приложению.
1.	Минимум - 3 экрана с данными. Т.е. экран - это не просто html ”об авторе”. А вполне целостная страница, со списком каких-нибудь данных. Пример такого приложения: Интернет магазин (страница списка товаров, детальный просмотр товара, корзина)
2.	На каждом экране должна быть минимум одна пользовательская активность (кроме пассивного просмотра информации). Продолжая пример с интернет-магазином: Поиск товара и добавление в корзину на списке товаров, Добавление в корзину при детальном просмотре, Покупка в корзине.
3.	В проекте должны быть данные. Это могут быть данные, хранящиеся в виде файлов в файловом хранилище, может быть SQL/NoSQL база данных, может быть внешняя система, с которой ваш проект взаимодействует по некому API (например, vk, twitter и т.д.).
4.	Тема - может быть абсолютно любой.
